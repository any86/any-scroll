"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),r=function(){function r(){this.listenersMap={}}return r.prototype.on=function(r,t,i){var n,o,s=Array.isArray(r)?r:[r];try{for(var a=e.__values(s),l=a.next();!l.done;l=a.next()){var f=l.value;void 0===this.listenersMap[f]&&(this.listenersMap[f]=[]),t.beforeEmit=i,this.listenersMap[f].push(t)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return this},r.prototype.emit=function(r,t){var i,n,o=this.listenersMap[r];if(void 0!==o&&0<o.length)try{for(var s=e.__values(o),a=s.next();!a.done;a=s.next()){var l=a.value;(void 0===l.beforeEmit||void 0!==t&&l.beforeEmit(t))&&l(t)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}},r.prototype.off=function(e,r){var t=this.listenersMap[e];if(void 0!==t)if(void 0===r)delete this.listenersMap[e];else{var i=t.findIndex((function(e){return e===r}));t.splice(i,1)}},r.prototype.destroy=function(){this.listenersMap={}},r}();exports.default=r;
