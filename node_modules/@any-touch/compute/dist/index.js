"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@any-touch/vector"),e=require("@any-touch/shared");function n(t){return{x:t.points[1][e.CLIENT_X]-t.points[0][e.CLIENT_X],y:t.points[1][e.CLIENT_Y]-t.points[0][e.CLIENT_Y]}}function r(t){var e=t.prevInput,r=t.startMultiInput;if(void 0!==r&&void 0!==e&&t.id!==r.id&&1<e.pointLength&&1<t.pointLength)return{startV:n(r),prevV:n(e),activeV:n(t)}}function a(){return function(e){var n=(null==e?void 0:e._vs)||r(e);if(void 0!==n&&n.activeV){var a=n.prevV,i=n.startV,o=n.activeV,u=Math.round(t.getAngle(o,a));return{angle:Math.round(t.getAngle(o,i)),deltaAngle:u,_vs:n}}}}function i(){return function(e){var n=e.prevInput,r=0,a=0,i=0;if(void 0!==n&&(r=e.x-n.x,a=e.y-n.y,0!==r||0!==a)){var o=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));i=Math.round(t.radianToAngle(Math.acos(Math.abs(r)/o)))}return{deltaX:r,deltaY:a,deltaXYAngle:i}}}function o(){var n,r=0,a=0,i=0,o=0,u=0;return function(s){var d=s.stage,p=s.startInput;return e.INPUT_START===d?(r=0,a=0,i=0,o=0,u=0):e.INPUT_MOVE===d&&(r=Math.round(s.points[0][e.CLIENT_X]-p.points[0][e.CLIENT_X]),a=Math.round(s.points[0][e.CLIENT_Y]-p.points[0][e.CLIENT_Y]),i=Math.abs(r),o=Math.abs(a),u=Math.round(t.getVLength({x:i,y:o})),n=t.getDirection(r,a)),{displacementX:r,displacementY:a,distanceX:i,distanceY:o,distance:u,overallDirection:n}}}function u(){var t=0;return function(n){var r=n.stage;return e.INPUT_START===r&&(t=n.pointLength),{maxPointLength:t}}}function s(){return function(n){var a=(null==n?void 0:n._vs)||r(n);if(void 0!==a&&a.activeV){var i=a.prevV,o=a.startV,u=a.activeV,s=e.round2(t.getVLength(u)/t.getVLength(i));return{scale:e.round2(t.getVLength(u)/t.getVLength(o)),deltaScale:s,_vs:a}}}}function d(){var n,r,a=0,i=0,o=0,u=0;return function(s){if(void 0!==s){var d=s.stage;r=r||s.startInput;var p=s.timestamp-r.timestamp;if(e.INPUT_MOVE===d&&e.COMPUTE_INTERVAL<p){var v=s.x-r.x,c=s.y-r.y;o=Math.round(v/p*100)/100,u=Math.round(c/p*100)/100,a=Math.abs(o),i=Math.abs(u),n=t.getDirection(v,c)||n,r=s}}return{velocityX:a,velocityY:i,speedX:o,speedY:u,direction:n}}}a._id="a",i._id="b",o._id="c",u._id="d",s._id="e",d._id="f",exports.ComputeAngle=a,exports.ComputeDeltaXY=i,exports.ComputeDistance=o,exports.ComputeMaxLength=u,exports.ComputeScale=s,exports.ComputeVAndDir=d;
