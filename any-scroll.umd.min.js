!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).AnyScroll=n()}(this,(function(){"use strict";var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,e)};function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var r=function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function o(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a}function a(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(i(arguments[n]));return t}var s=function(t,n){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function c(t,n){function e(){this.constructor=t}s(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var u=function(){return(u=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function l(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a}var f=function(){function t(){this.listenersMap={}}return t.prototype.on=function(t,n,e){var r,o,i=Array.isArray(t)?t:[t];try{for(var a=l(i),s=a.next();!s.done;s=a.next()){var c=s.value;void 0===this.listenersMap[c]&&(this.listenersMap[c]=[]),n.beforeEmit=e,this.listenersMap[c].push(n)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this},t.prototype.emit=function(t,n){var e,r,o=this.listenersMap[t];if(void 0!==o&&0<o.length)try{for(var i=l(o),a=i.next();!a.done;a=i.next()){var s=a.value;(void 0===s.beforeEmit||void 0!==n&&s.beforeEmit(n))&&s(n)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},t.prototype.off=function(t,n){var e=this.listenersMap[t];if(void 0!==e)if(void 0===n)delete this.listenersMap[t];else{var r=e.findIndex((function(t){return t===n}));e.splice(r,1)}},t.prototype.destroy=function(){this.listenersMap={}},t}(),v=Object.prototype.toString;var h="cancel",d="end",y="touch"+d,m="touch"+h,_="start",g="move",b=d,x="r",w="f",T=h;function S(t){return Math.round(100*t)/100}function E(){var t,n,e,r,o=0;return function(i){if(t=n,void 0!==i){var a=function(t,n){var e=t.stage,r=t.points,o=t.changedPoints,i=t.nativeEvent,a=r.length,s="start"===e,c=d===e&&0===a||h===e,u=Date.now(),l=$(r)||$(o),p=l.x,f=l.y,v=i.currentTarget;return Object.assign(t,{id:n,x:p,y:f,timestamp:u,isStart:s,isEnd:c,pointLength:a,currentTarget:v,getOffset:function(t){void 0===t&&(t=v);var n=t.getBoundingClientRect();return{x:p-Math.round(n.left),y:f-Math.round(n.top)}}})}(i,o=Number.MAX_SAFE_INTEGER>o?++o:1);n=a;var s=a.isStart,c=a.pointLength;return s&&(e=a,t=void 0,r=1<c?a:void 0),u(u({},a),{prevInput:t,startMultiInput:r,startInput:e})}}}function $(t){var n=t.length;if(0<n){if(1===n){var e=t[0],r=e.clientX,o=e.clientY;return{x:Math.round(r),y:Math.round(o)}}var i=t.reduce((function(t,n){return t.x+=n.clientX,t.y+=n.clientY,t}),{x:0,y:0});return{x:Math.round(i.x/n),y:Math.round(i.y/n)}}}function M(t,n,e){n.target,n.currentTarget;var r,o=n.type,i=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(n,["target","currentTarget","type"]);return document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(o,null==e?void 0:e.bubbles,null==e?void 0:e.cancelable):r=new Event(o,e),Object.assign(r,i,{match:function(){return n.targets.every((function(t){return r.currentTarget.contains(t)}))}}),t.dispatchEvent(r)}function O(t,n){if(!n.preventDefault)return!1;var e,r=!0;if(null!==t.target){var o=n.preventDefaultExclude;if(e=o,"[object RegExp]"===v.call(e)){if("tagName"in t.target){var i=t.target.tagName;r=!o.test(i)}}else(function(t){return"[object Function]"===v.call(t)})(o)&&(r=!o(t))}return r}var R=["touchstart","touchmove",y,m];function C(t,n){var e=n.type,r=n.target;t.emit(e,n),t.emit("at:after",n),t.options.domEvents&&void 0!==t.el&&null!==r&&(M(r,n,t.options.domEvents),M(r,u(u({},n),{_type:n.type,type:"at:after"}),t.options.domEvents))}var L={domEvents:{bubbles:!0,cancelable:!0},preventDefault:!0,preventDefaultExclude:/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/},z=function(t){function n(e,r){var o,i,a,s=t.call(this)||this;s._$computeFunctionMap={},s._$recognizerMap={},s._$recognizers=[],s.el=e,s.options=u(u({},L),r);try{for(var c=l(n._$Recognizers),f=c.next();!f.done;f=c.next()){var v=p(f.value,2),h=v[0],_=v[1];s.use(h,_)}}catch(t){o={error:t}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}var g,b,x,w,T=function(t){var n=E();return function(e){var r=[],o=[];Array.from(e.touches).forEach((function(n){var e=n.clientX,i=n.clientY,a=n.target;(null==t?void 0:t.contains(a))&&(r.push(a),o.push({clientX:e,clientY:i,target:a}))}));var i=Array.from(e.changedTouches).map((function(t){return{clientX:t.clientX,clientY:t.clientY,target:t.target}}));return n({stage:e.type.replace("touch",""),changedPoints:i,points:o,nativeEvent:e,target:e.target,targets:r})}}(s.el),S=(b=!1,x=null,w=E(),function(t){var n,e=t.clientX,r=t.clientY,o=t.type,i=t.button,a=t.target,s=[{clientX:e,clientY:r,target:a}];"mousedown"===o&&0===i?(x=a,b=!0,n="start"):b&&("mousemove"===o?n="move":"mouseup"===o&&(s=[],n=d,b=!1));var c=g||[{clientX:e,clientY:r,target:a}];if(g=[{clientX:e,clientY:r,target:a}],void 0!==n)return w({stage:n,changedPoints:c,points:s,target:x,targets:[x],nativeEvent:t})});if(s._$inputCreatorMap=((a={}).touchstart=T,a.touchmove=T,a[y]=T,a[m]=T,a.mousedown=S,a.mousemove=S,a.mouseup=S,a),void 0!==e){e.style.webkitTapHighlightColor="rgba(0,0,0,0)";var $=!1;try{var M={};Object.defineProperty(M,"passive",{get:function(){$=!0}}),window.addEventListener("_",(function(){}),M)}catch(t){}s.on("unbind",function(t,n,e){return R.forEach((function(r){t.addEventListener(r,n,e)})),t.addEventListener("mousedown",n,e),window.addEventListener("mousemove",n,e),window.addEventListener("mouseup",n,e),function(){R.forEach((function(e){t.removeEventListener(e,n)})),t.removeEventListener("mousedown",n,e),window.removeEventListener("mousemove",n,e),window.removeEventListener("mouseup",n,e)}}(e,s.catchEvent.bind(s),!(s.options.preventDefault||!$)&&{passive:!0}))}return s}return c(n,t),n.prototype.target=function(t){var n=this;return{on:function(e,r){n.on(e,r,(function(n){return n.targets.every((function(n){return t.contains(n)}))}))}}},n.prototype.catchEvent=function(t){var n,e,r=this,o=function(){return t.stopPropagation()},i=function(){return t.preventDefault()},a=function(){return t.stopImmediatePropagation()};O(t,this.options)&&i();var s=this._$inputCreatorMap[t.type](t);if(void 0!==s){var c="at:"+s.stage;this.emit("at",s),this.emit(c,s);var p=this.options.domEvents;if(!1!==p){var f=t.target;null!==f&&(M(f,u(u({},s),{type:"at"}),p),M(f,u(u({},s),{type:c}),p))}var v=s;for(var h in this._$computeFunctionMap)Object.assign(v,this._$computeFunctionMap[h](v));var d=function(t){if(t.disabled)return"continue";t.recognize(v,(function(n){var e=u(u({},v),{type:n,name:t.name,stopPropagation:o,preventDefault:i,stopImmediatePropagation:a});null==Object||Object.freeze(e),void 0===r.beforeEachHook?C(r,e):r.beforeEachHook(t,r._$recognizerMap,(function(){C(r,e)}))}))};try{for(var y=l(this._$recognizers),m=y.next();!m.done;m=y.next()){d(m.value)}}catch(t){n={error:t}}finally{try{m&&!m.done&&(e=y.return)&&e.call(y)}finally{if(n)throw n.error}}}},n.prototype.use=function(t,n){var e,r,o=null==n?void 0:n.name;if(void 0===o||void 0===this._$recognizerMap[o]){var i=new t(n);try{for(var a=l(i.computeFunctions),s=a.next();!s.done;s=a.next()){var c=s.value,u=c._id;void 0===this._$computeFunctionMap[u]&&(this._$computeFunctionMap[u]=c())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}this._$recognizerMap[i.name]=i,this._$recognizers.push(this._$recognizerMap[i.name])}},n.prototype.removeUse=function(t){var n,e;if(void 0===t)this._$recognizers=[],this._$recognizerMap={};else try{for(var r=l(this._$recognizers.entries()),o=r.next();!o.done;o=r.next()){var i=p(o.value,2),a=i[0];if(t===i[1].options.name){this._$recognizers.splice(a,1),delete this._$recognizerMap[t];break}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}},n.prototype.beforeEach=function(t){this.beforeEachHook=t},n.prototype.get=function(t){return this._$recognizerMap[t]},n.prototype.set=function(t){this.options=u(u({},this.options),t)},n.prototype.destroy=function(){this.emit("unbind"),t.prototype.destroy.call(this)},n.version="1.0.13-alpha.0",n._$Recognizers=[],n._$computeFunctionMap={},n.use=function(t,e){n._$Recognizers.push([t,e])},n}(f);function P(t){[b,T,x,w].includes(t.status)&&(t.status="p")}function X(t,n,e){var r=t._$test(n);P(t);var o=n.stage;t.status=function(t,n,e){var r,o,i,a,s,c,u,l={1:(r={},r.p=(o={},o.move=_,o[d]=w,o[h]=w,o),r[_]=(i={},i.move=g,i[d]=b,i[h]=T,i),r[g]=(a={},a.move=g,a[d]=b,a[h]=T,a),r),0:(s={},s[_]=(c={},c.move=w,c[d]=b,c[h]=T,c),s[g]=(u={},u.start=w,u.move=w,u[d]=b,u[h]=T,u),s)}[Number(t)][n];return void 0!==l&&l[e]||n}(r,t.status,o),t._$isRecognized=[_,g].includes(t.status);var i=t.name,a=t.status,s=t._$isRecognized;return s&&e(i),(s||[b,T].includes(t.status))&&e(i+a),r}var Y=function(){function t(t){this.disabled=!1,this._$isRecognized=!1,this.status="p",this.computeFunctions=[],this.options=t,this.name=this.options.name}return t.prototype.set=function(t){return void 0!==t&&(this.options=u(u({},this.options),t)),this},t.prototype._$isValidPointLength=function(t){return this.options.pointLength===t},t}(),j=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},D=function(t){return t/Math.PI*180},I=function(t,n){var e=function(t,n){var e=j(t)*j(n);if(0===e)return 0;var r=function(t,n){return t.x*n.x+t.y*n.y}(t,n)/e;return r>1&&(r=1),Math.acos(r)}(t,n);return function(t,n){return t.x*n.y-n.x*t.y}(t,n)>0&&(e*=-1),D(e)},A=function(t,n){return Math.abs(t)>=Math.abs(n)?0<t?"right":"left":0<n?"down":"up"};function F(t){return{x:t.points[1].clientX-t.points[0].clientX,y:t.points[1].clientY-t.points[0].clientY}}function N(t){var n=t.prevInput,e=t.startMultiInput;if(void 0!==e&&void 0!==n&&t.id!==e.id&&1<n.pointLength&&1<t.pointLength)return{startV:F(e),prevV:F(n),activeV:F(t)}}function V(){return function(t){var n=(null==t?void 0:t._vs)||N(t);if(void 0!==n&&n.activeV){var e=n.prevV,r=n.startV,o=n.activeV,i=Math.round(I(o,e));return{angle:Math.round(I(o,r)),deltaAngle:i,_vs:n}}}}function k(){return function(t){var n=t.prevInput,e=0,r=0,o=0;if(void 0!==n&&(e=t.x-n.x,r=t.y-n.y,0!==e||0!==r)){var i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2));o=Math.round(D(Math.acos(Math.abs(e)/i)))}return{deltaX:e,deltaY:r,deltaXYAngle:o}}}function U(){var t,n=0,e=0,r=0,o=0,i=0;return function(a){var s=a.stage,c=a.startInput;return"start"===s?(n=0,e=0,r=0,o=0,i=0):"move"===s&&(n=Math.round(a.points[0].clientX-c.points[0].clientX),e=Math.round(a.points[0].clientY-c.points[0].clientY),r=Math.abs(n),o=Math.abs(e),i=Math.round(j({x:r,y:o})),t=A(n,e)),{displacementX:n,displacementY:e,distanceX:r,distanceY:o,distance:i,overallDirection:t}}}function H(){var t=0;return function(n){return"start"===n.stage&&(t=n.pointLength),{maxPointLength:t}}}function q(){return function(t){var n=(null==t?void 0:t._vs)||N(t);if(void 0!==n&&n.activeV){var e=n.prevV,r=n.startV,o=n.activeV,i=S(j(o)/j(e));return{scale:S(j(o)/j(r)),deltaScale:i,_vs:n}}}}function B(){var t,n,e=0,r=0,o=0,i=0;return function(a){if(void 0!==a){var s=a.stage;n=n||a.startInput;var c=a.timestamp-n.timestamp;if("move"===s&&16<c){var u=a.x-n.x,l=a.y-n.y;o=Math.round(u/c*100)/100,i=Math.round(l/c*100)/100,e=Math.abs(o),r=Math.abs(i),t=A(u,l)||t,n=a}}return{velocityX:e,velocityY:r,speedX:o,speedY:i,direction:t}}}V._id="a",k._id="b",U._id="c",H._id="d",q._id="e",B._id="f";var W={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,maxDistance:2,maxDistanceFromPrevTap:9,maxPressTime:250},G=function(t){function n(n){var e=t.call(this,u(u({},W),n))||this;return e.computeFunctions=[U,H],e._$tapCount=0,e}return c(n,t),n.prototype._isValidDistanceFromPrevTap=function(t){if(void 0!==this._$prevTapPoint){var n=j({x:t.x-this._$prevTapPoint.x,y:t.y-this._$prevTapPoint.y});return this._$prevTapPoint=t,this.options.maxDistanceFromPrevTap>=n}return this._$prevTapPoint=t,!0},n.prototype._isValidInterval=function(){var t=performance.now();if(void 0===this._$prevTapTime)return this._$prevTapTime=t,!0;var n=t-this._$prevTapTime;return this._$prevTapTime=t,n<this.options.waitNextTapTime},n.prototype.recognize=function(t,n){var e=t.stage,r=t.x,o=t.y;d===e&&(this.status="p",this._$test(t)?(clearTimeout(this._$countDownToFailTimer),this._isValidDistanceFromPrevTap({x:r,y:o})&&this._isValidInterval()?this._$tapCount++:this._$tapCount=1,0==this._$tapCount%this.options.tapTimes?(this.status=x,n(this.options.name,u(u({},t),{tapCount:this._$tapCount})),this._$reset()):this._$countDownToFail()):(this._$reset(),this.status=w))},n.prototype._$countDownToFail=function(){var t=this;this._$countDownToFailTimer=setTimeout((function(){t.status=w,t._$reset()}),this.options.waitNextTapTime)},n.prototype._$reset=function(){this._$tapCount=0,this._$prevTapPoint=void 0,this._$prevTapTime=void 0},n.prototype._$test=function(t){var n=t.startInput,e=t.pointLength,r=t.timestamp-n.timestamp,o=t.maxPointLength,i=t.distance;return o===this.options.pointLength&&0===e&&this.options.maxDistance>=i&&this.options.maxPressTime>r},n}(Y),K={name:"pan",threshold:10,pointLength:1},Z=function(t){function n(n){var e=t.call(this,u(u({},K),n))||this;return e.computeFunctions=[B,U,k],e}return c(n,t),n.prototype._$test=function(t){var n=t.pointLength,e=t.distance;return(this._$isRecognized||this.options.threshold<=e)&&this._$isValidPointLength(n)},n.prototype.recognize=function(t,n){void 0!==t.direction&&X(this,t,n)&&n(this.options.name+t.direction)},n}(Y),J={name:"swipe",threshold:10,velocity:.3,pointLength:1},Q=function(t){function n(n){var e=t.call(this,u(u({},J),n))||this;return e.computeFunctions=[U,B,H],e}return c(n,t),n.prototype._$test=function(t){if(d!==t.stage)return!1;var n=t.velocityX,e=t.velocityY,r=t.maxPointLength,o=t.distance;return this.options.pointLength===r&&this.options.threshold<o&&this.options.velocity<Math.max(n,e)},n.prototype.recognize=function(t,n){this._$test(t)&&(n(this.options.name),n(this.options.name+t.direction))},n}(Y),tt={name:"press",pointLength:1,maxDistance:9,minPressTime:251},nt=function(t){function n(n){var e=t.call(this,u(u({},tt),n))||this;return e.computeFunctions=[U],e}return c(n,t),n.prototype.recognize=function(t,n){var e=this,r=t.stage,o=t.startInput,i=t.pointLength;if("start"===r&&this._$isValidPointLength(i))P(this),this._$cancel(),this._timeoutId=setTimeout((function(){e.status=x,n(e.options.name)}),this.options.minPressTime);else if(d===r&&x===this.status)n(this.options.name+"up");else if(x!==this.status){var a=t.timestamp-o.timestamp;(!this._$test(t)||this.options.minPressTime>a&&[d,h].includes(r))&&(this._$cancel(),this.status=w)}},n.prototype._$test=function(t){var n=t.distance;return this.options.maxDistance>n},n.prototype._$cancel=function(){clearTimeout(this._timeoutId)},n}(Y),et={name:"pinch",threshold:0,pointLength:2},rt=function(t){function n(n){var e=t.call(this,u(u({},et),n))||this;return e.computeFunctions=[q],e}return c(n,t),n.prototype._$test=function(t){var n=t.pointLength,e=t.scale;return this._$isValidPointLength(n)&&void 0!==e&&(this.options.threshold<Math.abs(e-1)||this._$isRecognized)},n.prototype.recognize=function(t,n){X(this,t,n)},n}(Y),ot={name:"rotate",threshold:0,pointLength:2},it=function(t){function n(n){var e=t.call(this,u(u({},ot),n))||this;return e.computeFunctions=[V],e}return c(n,t),n.prototype._$test=function(t){var n=t.pointLength,e=t.angle;return this._$isValidPointLength(n)&&(this.options.threshold<Math.abs(e)||this._$isRecognized)},n.prototype.recognize=function(t,n){X(this,t,n)},n}(Y);z.use(G),z.use(Z),z.use(Q),z.use(nt),z.use(rt),z.use(it),z.Tap=G,z.Pan=Z,z.Swipe=Q,z.Press=nt,z.Pinch=rt,z.Rotate=it,z.STATUS_POSSIBLE="p",z.STATUS_START=_,z.STATUS_MOVE=g,z.STATUS_END=b,z.STATUS_CANCELLED=T,z.STATUS_FAILED=w,z.STATUS_RECOGNIZED=x;var at="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var st=function(t){return null!=t&&"object"==typeof t},ct="object"==typeof at&&at&&at.Object===Object&&at,ut="object"==typeof self&&self&&self.Object===Object&&self,lt=(ct||ut||Function("return this")()).Symbol,pt=lt,ft=Object.prototype,vt=ft.hasOwnProperty,ht=ft.toString,dt=pt?pt.toStringTag:void 0;var yt=function(t){var n=vt.call(t,dt),e=t[dt];try{t[dt]=void 0;var r=!0}catch(t){}var o=ht.call(t);return r&&(n?t[dt]=e:delete t[dt]),o},mt=Object.prototype.toString;var _t=yt,gt=function(t){return mt.call(t)},bt=lt?lt.toStringTag:void 0;var xt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":bt&&bt in Object(t)?_t(t):gt(t)};var wt=function(t,n){return function(e){return t(n(e))}}(Object.getPrototypeOf,Object),Tt=xt,St=wt,Et=st,$t=Function.prototype,Mt=Object.prototype,Ot=$t.toString,Rt=Mt.hasOwnProperty,Ct=Ot.call(Object);var Lt=st,zt=function(t){if(!Et(t)||"[object Object]"!=Tt(t))return!1;var n=St(t);if(null===n)return!0;var e=Rt.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Ot.call(e)==Ct};var Pt=function(t){return Lt(t)&&1===t.nodeType&&!zt(t)},Xt={exports:{}},Yt={exports:{}};(function(){var t,n,e,r,o,i;"undefined"!=typeof performance&&null!==performance&&performance.now?Yt.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(Yt.exports=function(){return(t()-o)/1e6},n=process.hrtime,r=(t=function(){var t;return 1e9*(t=n())[0]+t[1]})(),i=1e9*process.uptime(),o=r-i):Date.now?(Yt.exports=function(){return Date.now()-e},e=Date.now()):(Yt.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(at);for(var jt=Yt.exports,Dt="undefined"==typeof window?at:window,It=["moz","webkit"],At="AnimationFrame",Ft=Dt["request"+At],Nt=Dt["cancel"+At]||Dt["cancelRequest"+At],Vt=0;!Ft&&Vt<It.length;Vt++)Ft=Dt[It[Vt]+"Request"+At],Nt=Dt[It[Vt]+"Cancel"+At]||Dt[It[Vt]+"CancelRequest"+At];if(!Ft||!Nt){var kt=0,Ut=0,Ht=[];Ft=function(t){if(0===Ht.length){var n=jt(),e=Math.max(0,1e3/60-(n-kt));kt=e+n,setTimeout((function(){var t=Ht.slice(0);Ht.length=0;for(var n=0;n<t.length;n++)if(!t[n].cancelled)try{t[n].callback(kt)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(e))}return Ht.push({handle:++Ut,callback:t,cancelled:!1}),Ut},Nt=function(t){for(var n=0;n<Ht.length;n++)Ht[n].handle===t&&(Ht[n].cancelled=!0)}}Xt.exports=function(t){return Ft.call(Dt,t)},Xt.exports.cancel=function(){Nt.apply(Dt,arguments)},Xt.exports.polyfill=function(t){t||(t=Dt),t.requestAnimationFrame=Ft,t.cancelAnimationFrame=Nt};var qt=Xt.exports;var Bt=/\s/;var Wt=function(t){for(var n=t.length;n--&&Bt.test(t.charAt(n)););return n},Gt=/^\s+/;var Kt=xt,Zt=st;var Jt=function(t){return t?t.slice(0,Wt(t)+1).replace(Gt,""):t},Qt=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},tn=function(t){return"symbol"==typeof t||Zt(t)&&"[object Symbol]"==Kt(t)},nn=/^[-+]0x[0-9a-f]+$/i,en=/^0b[01]+$/i,rn=/^0o[0-7]+$/i,on=parseInt;var an=function(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t},sn=function(t){if("number"==typeof t)return t;if(tn(t))return NaN;if(Qt(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Qt(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Jt(t);var e=en.test(t);return e||rn.test(t)?on(t.slice(2),e?2:8):nn.test(t)?NaN:+t};var cn=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=sn(e))==e?e:0),void 0!==n&&(n=(n=sn(n))==n?n:0),an(sn(t),n,e)};function un(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a}function ln(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(un(arguments[n]));return t}function pn(t,n){for(var e in n)t.style.setProperty(e,n[e])}function fn(t,n,e){pn(t,{transform:"translate3d("+n+"px, "+e+"px,0)"})}function vn(t){var n,e=document.createElement("div");return t&&(n=e.classList).add.apply(n,ln(t)),e}function hn(t){return[t(0),t(1)]}function dn(t,n,e){var r=ln(t),o=ln(n),i=Date.now(),a=-1,s=function(){},c=o.map((function(t,n){return t-r[n]}));return[function t(n){a=qt((function(){var a,u=(Date.now()-i)/e,l=(a=u,1-Math.pow(1-a,3));if(1>u){var p=r.map((function(t,n){return t+c[n]*l}));n(p),t(n)}else n(o),s()}))},function(){qt.cancel(a)},function(t){s=t}]}function yn(t,n,e){void 0===e&&(e=.1);var r=n-t;return.1<Math.abs(r)?n-((1-e)*r|0):n}var mn={overflowDistance:100,damping:.1,allow:[!0,!0],hideBar:[!1,!1],snap:!0},_n=function(t){function n(n,e,o){var i=t.call(this)||this;return i.xy=[0,0],i.minXY=[0,0],i.maxXY=[0,0],i.wrapSize=[0,0],i.contentSize=[0,0],i.targets=[],i._scrollEndTimeId=-1,i._dampScrollRafId=-1,i._stopScroll=function(){},i.el=n,i.wrapEl=e,i.__options=r(r({},mn),o),pn(n,{position:"absolute"}),i.update(),i.__registerObserver(),i}return e(n,t),n.prototype.set=function(t){this.__options=r(r({},this.__options),t),this.update()},n.prototype.update=function(){console.warn("update"),this.__updateSize()},n.prototype.__updateSize=function(){var t=this.wrapEl,n=this.el,e=n.offsetWidth,r=n.offsetHeight,o=n.clientWidth,i=n.clientHeight,a=n.scrollWidth,s=n.scrollHeight;this.wrapSize=[t.clientWidth,t.clientHeight],this.contentSize=[e-o+a,r-i+s],this.minXY=[Math.min(0,this.wrapSize[0]-this.contentSize[0]),Math.min(0,this.wrapSize[1]-this.contentSize[1])],this.maxXY=[0,0],console.log("__warpSize",this.wrapSize),console.log("contentSize",this.contentSize),console.log("__minXY",this.minXY),console.log("__maxXY",this.maxXY)},n.prototype.__registerObserver=function(){window.addEventListener("resize",this.update.bind(this));var t=MutationObserver||WebKitMutationObserver||MozMutationObserver;"function"==typeof t&&new t(this.update.bind(this)).observe(this.el,{subtree:!0,childList:!0})},n.prototype.stop=function(){qt.cancel(this._dampScrollRafId),this._stopScroll()},n.prototype.snap=function(){var t=this;if(this.__options.snap){var n=hn((function(n){return cn(t.xy[n],t.minXY[n],t.maxXY[n])}));this._dampScroll(n)}},n.prototype.moveTo=function(t){var n=this;clearTimeout(this._scrollEndTimeId);var e=this.__options,r=e.allow,o=e.overflowDistance;if(hn((function(e){r[e]&&(n.xy[e]=cn(t[e],n.minXY[e]-o,n.maxXY[e]+o))})),r.includes(!0)){var s=i(this.xy,2),c=s[0],u=s[1],l=this.targets,p=l[0];this.emit("scroll",{targets:l,target:p,x:c,y:u}),fn.apply(void 0,a([this.el],this.xy))}return this.xy},n.prototype.scrollTo=function(t,n){var e=this;void 0===n&&(n=1e3);var r=i(dn(this.xy,t,n),3),o=r[0],a=r[1],s=r[2];o(this.moveTo.bind(this)),this._stopScroll=a,s((function(){e.snap()}))},n.prototype._dampScroll=function(t){if(t[0]!==this.xy[0]||t[1]!==this.xy[1]){qt.cancel(this._dampScrollRafId);var n=this.__options,e=n.overflowDistance,r=n.allow,o=a(t);!function t(n){var i=n.xy,a=n.minXY,s=n.maxXY,c=hn((function(t){var r=yn(n.xy[t],o[t]);if(i[t]>=s[t]+e)o[t]=s[t];else if(i[t]<=a[t]-e)o[t]=a[t];else{if(i[t]!==o[t]||r!==o[t])return r;i[t]>s[t]?o[t]=s[t]:i[t]<a[t]&&(o[t]=a[t])}return yn(n.xy[t],o[t])}));n.moveTo(c),hn((function(t){return r[t]&&o[t]!==c[t]})).some((function(t){return t}))?n._dampScrollRafId=qt((function(){t(n)})):n.emit("scroll-end")}(this)}},n.prototype.destroy=function(){t.prototype.destroy.call(this)},n}(f),gn=window.setTimeout;var bn=window.setTimeout,xn={overflowDistance:100,damping:.1,allow:[!0,!0],hideBar:[!1,!1],snap:!0,hasBar:!0},wn=[],Tn=function(t){function n(n,e){var o=t.call(this,n)||this;o.targets=[],o._scrollEndTimeId=-1,o.__contentRefList=[],n.classList.add("any-scroll"),o.__options=r(r({},xn),e),Array.from(n.children).forEach((function(t){var e=new _n(t,n,o.__options);o.__contentRefList.push(e)})),o.__currentContentRef=o.getContentRef(),o.__currentContentRef&&(o.__currentContentRef.on("scroll",(function(t){o.emit("scroll",t)})),o.__currentContentRef.on("scroll-end",(function(t){o.emit("scroll-end",t)}))),wn.forEach((function(t){t(o)})),o.on(["panstart","panmove"],(function(t){var n=o.__currentContentRef;if(null!==n){o.targets=t.targets;var e=t.deltaX,r=t.deltaY;n.moveTo([n.xy[0]+e,n.xy[1]+r])}})),o.on("panend",(function(t){o._scrollEndTimeId=bn((function(){null!==o.__currentContentRef&&(o.targets=t.targets,o.emit("scroll-end",o.__currentContentRef.xy))}),16)})),o.on("at:start",(function(t){var n,e=t.target;o.__currentContentRef=o.__findContentRef(e),null===(n=o.__currentContentRef)||void 0===n||n.stop()})),o.on("at:end",(function(){var t;null===(t=o.__currentContentRef)||void 0===t||t.snap()}));var a=o.get("swipe");a&&a.set({velocity:1}),o.on("swipe",(function(t){var n;o.targets=t.targets,console.log("swipe"),clearTimeout(o._scrollEndTimeId);var e=220*t.speedX,r=220*t.speedY;null===(n=o.__currentContentRef)||void 0===n||n._dampScroll([o.__currentContentRef.xy[0]+e,o.__currentContentRef.xy[1]+r])}));var s=o.__options.allow,c=s[0]&&!s[1];return function(t,n){var e,o,a=0,s=0;function c(c){var u=i(function(t,n,e){void 0===n&&(n=40),void 0===e&&(e=800);var r=t.deltaX,o=t.deltaY,i=t.deltaMode;return i==t.DOM_DELTA_LINE?(r*=n,o*=n):i==t.DOM_DELTA_PAGE&&(r*=e,o*=e),[r,o]}(c),2),l=u[0],p=u[1];function f(e,o){var i=r({target:c.target,deltaX:l,deltaY:p,type:e},o),a=new Event("wheel"+e);n(i),t.dispatchEvent(a)}s+=l,a+=p,clearTimeout(o),o=gn((function(){var t=Date.now()-e,n=s/t,r=a/t;e=void 0,s=0,a=0,f("end",{vx:n,vy:r})}),16),f(void 0===e?"start":"move"),e=Date.now()}t.addEventListener("wheel",c)}(n,(function(t){var n=t.type,e=t.deltaY;t.vx;var r=t.vy,i=t.target;if(o.__currentContentRef=o.__findContentRef(i),null!==o.__currentContentRef){var a=o.__currentContentRef.xy;o.targets=[i],"start"===n?(o.__currentContentRef.stop(),c?o.__dampScroll([a[0]-e,a[1]]):o.__dampScroll([a[0],a[1]-e])):"move"===n?c?o.__dampScroll([a[0]-e,a[1]]):o.__dampScroll([a[0],a[1]-e]):"end"===n&&(c?o.__dampScroll([a[0]-5*r,a[1]]):o.__dampScroll([a[0],a[1]-30*Math.ceil(r)]))}})),o}return e(n,t),n.use=function(t){wn.push(t)},n.prototype.__findContentRef=function(t){var n,e;try{for(var r=o(this.__contentRefList),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.el.contains(t))return a}}catch(t){n={error:t}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return null},n.prototype.moveTo=function(t){var n;return null===(n=this.__currentContentRef)||void 0===n?void 0:n.moveTo(t)},n.prototype.scrollTo=function(t,n){var e;void 0===n&&(n=1e3),null===(e=this.__currentContentRef)||void 0===e||e.scrollTo(t,n)},n.prototype.__dampScroll=function(t){var n;null===(n=this.__currentContentRef)||void 0===n||n._dampScroll(t)},n.prototype.stop=function(){var t;null===(t=this.__currentContentRef)||void 0===t||t.stop()},n.prototype.getContentRef=function(t){return void 0===t&&(t=0),0!==t&&Pt(t)?this.__contentRefList.find((function(n){return n.el===t}))||null:this.__contentRefList[Number(t)]||null},n.prototype.destroy=function(){t.prototype.destroy.call(this)},n}(z),Sn=[],En=function(t){function n(n,e){var r,i,a=t.call(this,n,e)||this;try{for(var s=o(Sn),c=s.next();!c.done;c=s.next()){(0,c.value)(a)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}return e(n,t),n.use=function(t){Sn.push(t)},n}(Tn);function $n(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a}var Mn={exports:{}},On=[],Rn=[];function Cn(t,n){if(n=n||{},void 0===t)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var e,r=!0===n.prepend?"prepend":"append",o=void 0!==n.container?n.container:document.querySelector("head"),i=On.indexOf(o);return-1===i&&(i=On.push(o)-1,Rn[i]={}),void 0!==Rn[i]&&void 0!==Rn[i][r]?e=Rn[i][r]:(e=Rn[i][r]=function(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}(),"prepend"===r?o.insertBefore(e,o.childNodes[0]):o.appendChild(e)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),e.styleSheet?e.styleSheet.cssText+=t:e.textContent+=t,e}Mn.exports=Cn;var Ln,zn=Mn.exports.insertCss=Cn;!function(t){t.X="x",t.Y="y"}(Ln||(Ln={}));var Pn=["width","height"];function Xn(t,n,e){var r=t.getContentRef();if(null!==r){var o=r.contentSize,i=r.wrapSize,a=r.minXY,s=r.maxXY;hn((function(t){var c;if(o[t]>i[t]){var u=n[t].getContentRef();if(null!==u){var l=$n(function(t,n,e,r,o,i,a){var s=1,c=n/e*n;o>=t?s=1-(o-t)/n:r<t&&(s=1-(t-r)/n);return[c*=s,-t/(r-o)*(n-c)]}(r.xy[t],i[t],o[t],s[t],a[t],u.minXY[t],u.maxXY[t]),2),p=l[0],f=l[1];pn(e[t][1],((c={})[Pn[t]]=p+"px",c)),u.maxXY[t]=u.wrapSize[t]-p,u.minXY[t]=0;var v=u.xy;v[t]=f,u.moveTo(v)}}else pn(e[t][0],{display:"none"})}))}}return En.use((function(t){var n=!1;zn("\n.any-scroll {\n    display: block;\n    position: relative;\n    overflow:hidden;\n}\n\n.any-scroll > .scroll-bar-track{\n    position:absolute;\n    right:0;\n    bottom:0;\n    background: rgba(177,177,177,0.6);\n}\n\n.any-scroll >.scroll-bar-track > .scroll-bar-thumb{\n    width: 8px;\n    height: 8px;\n    background: rgba(55,55,55,0.6);\n    border-radius:4px;\n}\n\n.any-scroll > .scroll-bar-track-x{\n    left:0;\n    height:8px;\n}\n\n.any-scroll > .scroll-bar-track-y{\n    top:0;\n    width:8px;\n}\n");var e=[],r=[Ln.X,Ln.Y].map((function(r,o){var i=$n(function(t,n){void 0===n&&(n=Ln.X);var e=vn(["scroll-bar-track","scroll-bar-track-"+n]),r=vn(["scroll-bar-thumb","scroll-bar-thumb-"+n]);return e.appendChild(r),t.appendChild(e),[e,r]}(t.el,r),2),a=i[0],s=i[1],c=new Tn(a,{allow:[Ln.X===r,Ln.Y===r],overflowDistance:0});return e.push(c),pn(c.el,{position:"absolute"}),c.on("pan",(function(e){var r=c.getContentRef();if(r){var i=t.getContentRef();if(null!==i){var a=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat($n(arguments[n]));return t}(i.xy);a[o]=-r.xy[o]*i.contentSize[o]/r.wrapSize[o],i.moveTo(a),n=!0}}})),c.on("at:end",(function(){n=!1})),[a,s]}));Xn(t,e,r),t.on(["at:start","scroll"],(function(){n||Xn(t,e,r)}))})),function(n){function e(t,e){return n.call(this,t,e)||this}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,n),e}(En)}));
